{"version":3,"sources":["webpack:///./src/pages/moonwalker/useInterval.js","webpack:///./src/pages/moonwalker/Jackson.js","webpack:///./src/pages/moonwalker/index.js"],"names":["__webpack_require__","r","__webpack_exports__","d","useInterval","react__WEBPACK_IMPORTED_MODULE_0__","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","Jackson","react__WEBPACK_IMPORTED_MODULE_0___default","n","_useInterval__WEBPACK_IMPORTED_MODULE_1__","leftLegStages","rightLegStages","duckLeftLegStages","duckRightLegStages","animationTimingFunc","_useState","useState","rightOffset","setRightOffset","_useState2","rightPos","setRightPos","_useState3","index","setIndex","_useState4","animStage","setAnimStage","_useState5","animFunc","setAnimFunc","_useState6","danceMode","setDanceMode","_useState7","on","setOn","_useState8","setDelay","_useState9","animDur","setAnimDur","jackson","useCallback","node","getBoundingClientRect","right","isJacksonOutOfStage","leftLeg","document","getElementById","rightLeg","nextLeftLegStage","nextRightLegStage","slice","call","children","forEach","child","classList","remove","add","a","createElement","className","ref","style","transition","transform","display","justifyContent","alignItems","fontSize","background","padding","fontWeight","color","onClick","type","value","onChange","e","target","height","_Jackson__WEBPACK_IMPORTED_MODULE_1__","App"],"mappings":"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","file":"component---src-pages-moonwalker-index-js-f1049019f9e722fb8ecd.js","sourcesContent":["import { useRef, useEffect } from \"react\";\nexport default function useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      !!savedCallback.current && savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport useInterval from './useInterval';\nimport './Jackson.css';\n// the original duck walk https://www.youtube.com/watch?v=EqS76TFCCYs\nexport default function Jackson() {\n  const leftLegStages = [\"stage-1\", \"stage-2\", \"stage-3\", \"stage-2\"];\n  const rightLegStages = [\"stage-3\", \"stage-2\", \"stage-1\", \"stage-2\"];\n  const duckLeftLegStages = [\"stage-4\", \"stage-6\", \"stage-4\", \"stage-6\"];\n  const duckRightLegStages = [\"stage-5\", \"stage-7\", \"stage-5\", \"stage-7\"];\n  const animationTimingFunc = [\"cubic-bezier(.87,.57,1,.68)\", \"cubic-bezier(0,.06,0,1.16)\", \"cubic-bezier(.87,.57,1,.68)\", \"cubic-bezier(0,.06,0,1.16)\"];\n  /* animations\n  0: ease in\n  1: ease out\n  2: ease in\n  3: ease out\n  */\n  const NUM_MOVES = 4;\n  const DUCK_WALK_MODE = 1;\n  const MOON_WALK_MODE = 0;\n  /* states */\n  const [rightOffset, setRightOffset] = useState(0);\n  const [rightPos, setRightPos] = useState(0);\n  const [index, setIndex] = useState(1);\n  const [animStage, setAnimStage] = useState(0);\n  const [animFunc, setAnimFunc] = useState(\"\");\n  const [danceMode, setDanceMode] = useState(MOON_WALK_MODE); /* 0: moon walk, 1: dance walk */\n  const [on, setOn] = useState(false);\n  const [delay, setDelay] = useState(700);\n  const [animDur, setAnimDur] = useState(0.7);\n\n  const jackson = useCallback(node => {\n    if(node !== null) {\n      setRightPos(node.getBoundingClientRect().right);\n    }\n  });\n  const changeDelay = e => {\n    setDelay(e.target.value);\n  }\n  const toggleDance = () => {\n    setDanceMode(danceMode ^ 1);\n  }\n  var moonWalks = () => {\n    setRightOffset(rightOffset + 60);\n  };\n  var duckWalks = () => {\n    setRightOffset(rightOffset + 60);\n  }\n  var moveJacksonToEdge = () => {\n    setRightOffset(0);\n  };\n  const toggleOn = () => {\n    setOn(!on);\n  }\n\n  useEffect(() => {\n    setAnimFunc(animationTimingFunc[animStage]);\n  },[animStage, animationTimingFunc]);\n  useEffect(() => {\n    if(isJacksonOutOfStage()) {\n      setAnimDur(0);\n      moveJacksonToEdge();\n    }\n  });\n  var moveOneIndex = () => {\n    setAnimDur(0.7);\n    var leftLeg = document.getElementById('left-leg');\n    var rightLeg = document.getElementById('right-leg');\n    if(danceMode === MOON_WALK_MODE) {\n      var nextLeftLegStage = leftLegStages[index];\n      var nextRightLegStage = rightLegStages[index];\n      [].slice.call(leftLeg.children).forEach(function(child) {\n        child.classList.remove('stage-1');\n        child.classList.remove('stage-2');\n        child.classList.remove('stage-3');\n        child.classList.remove('stage-4');\n        child.classList.remove('stage-6');\n        child.classList.add(nextLeftLegStage);\n      });\n      [].slice.call(rightLeg.children).forEach(function(child) {\n        child.classList.remove('stage-1');\n        child.classList.remove('stage-2');\n        child.classList.remove('stage-3');\n        child.classList.remove('stage-5');\n        child.classList.remove('stage-7');\n        child.classList.add(nextRightLegStage);\n      });\n      moonWalks();\n    } else if(danceMode === DUCK_WALK_MODE) {\n      nextLeftLegStage = duckLeftLegStages[index];\n      nextRightLegStage = duckRightLegStages[index];\n      [].slice.call(leftLeg.children).forEach(function(child) {\n        child.classList.remove('stage-1');\n        child.classList.remove('stage-2');\n        child.classList.remove('stage-3');\n        child.classList.remove('stage-4');\n        child.classList.remove('stage-6');\n        child.classList.add(nextLeftLegStage);\n      });\n      [].slice.call(rightLeg.children).forEach(function(child) {\n        child.classList.remove('stage-1');\n        child.classList.remove('stage-2');\n        child.classList.remove('stage-3');\n        child.classList.remove('stage-5');\n        child.classList.remove('stage-7');\n        child.classList.add(nextRightLegStage);\n      });\n      duckWalks();\n    }\n    setIndex((index + 1)%NUM_MOVES);\n    setAnimStage((animStage + 1)%NUM_MOVES);\n  };\n  var isJacksonOutOfStage = () => {\n    return rightPos <= 0;\n  };\n  useInterval(moveOneIndex, on ? delay: null); /* <-- This is the main call that kicks off the dancing */\n  return (\n    <div className=\"playground\">\n      <div className=\"ceiling\"></div>\n      <div className=\"dancer-space\">\n        <div className=\"micheal-jackson\" id=\"micheal-jackson\" ref={jackson} style={{right:rightOffset, transition: `right ${animDur}s ${animFunc}`, transform:`${danceMode === DUCK_WALK_MODE ? 'scale(-1,1)' : ''}`}}>\n          <div className=\"head\">\n            <div className=\"hat\">\n              <div className=\"hat-top\"></div>\n              <div className=\"hat-bottom\"></div>\n            </div>\n            <div className=\"face\"></div>\n          </div>\n          <div className=\"body\">\n            <div className=\"left-arm\"></div>\n            <div className=\"right-arm\"></div>\n          </div>\n          <div className=\"legs\">\n            <div className=\"left-leg\" id=\"left-leg\">\n              <div className=\"left-leg-upper leg-upper  stage-1\" id=\"left-leg-upper\"></div>\n              <div className=\"left-leg-lower leg-lower stage-1\" id=\"left-leg-lower\"></div>\n              <div className=\"left-foot foot stage-1\" id=\"left-foot\"></div>\n            </div>\n            <div className=\"right-leg\" id=\"right-leg\">\n              <div className=\"right-leg-upper leg-upper stage-3\" id=\"right-leg-upper\"></div>\n              <div className=\"right-leg-lower leg-lower stage-3\" id=\"right-leg-lower\"></div>\n              <div className=\"right-foot foot stage-3\" id=\"right-foot\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"stage\">\n        <div style={{display: 'flex', justifyContent: 'space-around'}}>\n          <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', fontSize: 'larger', background: 'white', padding: '0 20px', fontWeight: '700', color: on ? 'red' : 'green'}} onClick={toggleOn}>{on ? 'STOP' : 'START'}</div>\n          <form><input type=\"number\" value={delay} onChange={changeDelay} style={{height:\"100px\", fontSize:\"30px\"}}/></form>\n          <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', fontSize: 'larger', background: 'white', padding: '0 20px', fontWeight: '700'}} onClick={toggleDance}>{danceMode === MOON_WALK_MODE ? 'Moon walk' : 'Duck walk'}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport Jackson from './Jackson';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n    <Jackson />\n    </div>\n  );\n}\n\nexport default App;\n"],"sourceRoot":""}